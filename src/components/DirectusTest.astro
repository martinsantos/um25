---
import { directus, getServicios } from '../lib/directus';

// Fetch servicios as an example
const servicios = await getServicios(3);
---

<div class="p-4">
    <h2 class="text-2xl font-bold mb-4">Servicios desde Directus</h2>
    <div class="grid gap-4">
        {servicios.map((servicio) => (
            <div class="border p-4 rounded-lg shadow">
                <h3 class="text-xl font-semibold">{servicio.titulo}</h3>
                <p class="mt-2">{servicio.descripcion}</p>
                {servicio.imagen_destacada && (
                    <img 
                        src={`${import.meta.env.PUBLIC_DIRECTUS_URL}/assets/${servicio.imagen_destacada.id}`}
                        alt={servicio.titulo}
                        class="mt-4 rounded-lg w-full h-48 object-cover"
                    />
                )}
            </div>
        ))}
    </div>
</div>